<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usage for end-users · DataDeps.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">DataDeps.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">DataDeps.jl Documentation</a></li><li class="is-active"><a class="tocitem" href>Usage for end-users</a><ul class="internal"><li><a class="tocitem" href="#Moving-Data-1"><span>Moving Data</span></a></li><li><a class="tocitem" href="#Removing-data-1"><span>Removing data</span></a></li><li><a class="tocitem" href="#Configuration-1"><span>Configuration</span></a></li></ul></li><li><a class="tocitem" href="../z20-for-pkg-devs/">Usage for developers (including researchers)</a></li><li><a class="tocitem" href="../z30-for-contributors/">Extending DataDeps.jl for Contributors</a></li><li><a class="tocitem" href="../z40-apiref/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Usage for end-users</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Usage for end-users</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/oxinabox/DataDeps.jl/blob/master/docs/src/z10-for-end-users.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Usage-for-end-users-1"><a class="docs-heading-anchor" href="#Usage-for-end-users-1">Usage for end-users</a><a class="docs-heading-anchor-permalink" href="#Usage-for-end-users-1" title="Permalink"></a></h1><p>The main goal of DataDeps.jl is to simplify life for the user. They should just forget about the data their package needs.</p><h2 id="Moving-Data-1"><a class="docs-heading-anchor" href="#Moving-Data-1">Moving Data</a><a class="docs-heading-anchor-permalink" href="#Moving-Data-1" title="Permalink"></a></h2><p>Moving data is a great idea. DataDeps.jl is in favour of moving data. When data is automatically downloaded it will almost always go to the same location: the first (existent, writable) directory on your <code>DATADEPS_LOAD_PATH</code>. Which by-default is DataDeps&#39;s scratch space under <code>~/.julia/scratchspaces/124859b0-ceae-595e-8997-d05f6a7a8dfe/datadeps</code>, such that <code>Pkg.gc()</code> can automatically delete data if DataDeps is uninstalled. But you can move them from there to anywhere in the <code>DATADEPS_LOAD_PATH</code>. (See below)</p><p>If you have a large chunk of data that everyone in your lab is using (e.g. a 1TB video corpora), you probably want to shift it to a shared area, like <code>/usr/share/datadeps</code>. Even if you don&#39;t have write permissions, you can have a sysadmin move it, and so long as you still have read permission DataDeps.jl will find it and use it for you.</p><h3 id="The-Load-Path-1"><a class="docs-heading-anchor" href="#The-Load-Path-1">The Load Path</a><a class="docs-heading-anchor-permalink" href="#The-Load-Path-1" title="Permalink"></a></h3><p>The Load Path is the list of paths that DataDeps.jl looks in when trying to resolve a data dependency. If it doesn&#39;t find the data in any of them it will download the data.</p><p>It has 3 sources:</p><ul><li>the package load path:<ul><li>determined from the package where the <code>datadep&quot;NAME&quot;</code> was used</li></ul></li><li>the user defined load path<ul><li>determined from the contents of the environment variable <code>DATADEPS_LOAD_PATH</code></li><li>this can be a colon separated list (Like most unix path variables)</li></ul></li><li>the standard load path<ul><li>depends on your system and configuration</li><li>normally starts with user specific locations like your home directory, and expands out to shared locations</li><li>see below lists of examples</li><li>This can be disabled by setting the <code>DATADEPS_NO_STANDARD_LOAD_PATH</code> environment variable.</li></ul></li></ul><p>In general it should by default include just about anywhere you might want to put the data. If it doesn&#39;t, please file an issue. (Unless your location is super-specific, e.g. <code>/MyUniName/student/commons/datadeps</code>). As mentioned you can add things to the load path by setting the environment variable <code>DATADEPS_LOAD_PATH</code>. You can also make symlinks from the locations on the load path to other locations where the data really is, if you&#39;d rather do that.</p><p>When <strong>loading data</strong> the load path is searched in order for a readable folder. When <strong>saving data</strong> it is searched in order, skipping the package load path, for a writable directory. Simple way to avoid part of the standard load path being used for saving is to delete it, or make it unwritable. You can (and should when desired) move things around between any folder in the load path without redownloading.</p><h3 id="Unix-Standard-Load-Path-1"><a class="docs-heading-anchor" href="#Unix-Standard-Load-Path-1">Unix Standard Load Path</a><a class="docs-heading-anchor-permalink" href="#Unix-Standard-Load-Path-1" title="Permalink"></a></h3><p>For the user <strong>oxinabox</strong></p><pre><code class="language-bash">/home/wheel/oxinabox/.julia/scratchspaces/124859b0-ceae-595e-8997-d05f6a7a8dfe/datadeps
/home/wheel/oxinabox/datadeps
/scratch/datadeps
/staging/datadeps
/usr/share/datadeps
/usr/local/share/datadeps</code></pre><h3 id="Windows-Standard-Load-Path-1"><a class="docs-heading-anchor" href="#Windows-Standard-Load-Path-1">Windows Standard Load Path</a><a class="docs-heading-anchor-permalink" href="#Windows-Standard-Load-Path-1" title="Permalink"></a></h3><p>For the user <strong>oxinabox</strong>, when using JuliaPro 0.6.2.1, on windows 7. (Other configurations should be fairly similar).</p><pre><code class="language-batch">C:\Users\oxinabox\AppData\Local\JuliaPro-0.6.2.1\pkgs-0.6.2.1\datadeps
C:\Users\oxinabox\datadeps
C:\Users\oxinabox\AppData\Roaming\datadeps
C:\Users\oxinabox\AppData\Local\datadeps
C:\ProgramData\datadeps
C:\Users\Public\datadeps</code></pre><h3 id="Having-multiple-copies-of-the-same-DataDir-1"><a class="docs-heading-anchor" href="#Having-multiple-copies-of-the-same-DataDir-1">Having multiple copies of the same DataDir</a><a class="docs-heading-anchor-permalink" href="#Having-multiple-copies-of-the-same-DataDir-1" title="Permalink"></a></h3><p>You probably don&#39;t want to have multiple copies of a DataDir with the same name. DataDeps.jl will try to handle it as gracefully as it can. But having different <code>DataDep</code>s under the same name, is probably going to lead to packages loading the wrong one. Except if they are (both) located in their packages <code>deps/data</code> folder.</p><p>By moving a package&#39;s data dependency into its package directory under <code>deps/data</code>, it becomes invisible except to that package. For example <code>~/.julia/v0.6/EXAMPLEPKG/deps/data/EXAMPLEDATADEP/</code>, for the package <code>EXAMPLEPKG</code>, and the datadep <code>EXAMPLEDATADEP</code>.</p><p>Ideally though you should probably raise an issue with the package maintainers and see if one (or both) of them want to change the DataDep name.</p><p>Note also when it comes to file level loading, e.g. <code>datadep&quot;Name/subfolder/file.txt&quot;</code>, DataDeps.jl does not check all folders with that <code>Name</code> (if you have multiples). If the file is not in the first folder it finds you will be presented with the recovery dialog, from which the easiest option is to select to delete the folder and retry, since that will result in it checking the second folder (as the first one does not exist).</p><h2 id="Removing-data-1"><a class="docs-heading-anchor" href="#Removing-data-1">Removing data</a><a class="docs-heading-anchor-permalink" href="#Removing-data-1" title="Permalink"></a></h2><p>Sometimes you don&#39;t need the data anymore. You can remove files from within Julia using the <code>rm</code> command. If you had registered a <code>DataDep</code> called <code>MyDataName</code>, then you can remove it with</p><pre><code class="language-none">rm(datadep&quot;MyDataName&quot;; recursive=true)</code></pre><h2 id="Configuration-1"><a class="docs-heading-anchor" href="#Configuration-1">Configuration</a><a class="docs-heading-anchor-permalink" href="#Configuration-1" title="Permalink"></a></h2><p>Currently configuration is done via Environment Variables. It is likely to stay that way, as they are also easy to setup in CI tools. You can set these in the <a href="https://docs.julialang.org/en/v1/manual/getting-started/"><code>startup.jl</code></a> file using the <code>ENV</code> dictionary if you don&#39;t want to mess up your <code>.profile</code>. However, most people shouldn&#39;t need to. DataDeps.jl tries to have very sensible defaults.</p><ul><li><code>DATADEPS_ALWAYS_ACCEPT</code> – bypasses the confirmation before downloading data. Set to <code>true</code> (or similar string)<ul><li>default: <code>false</code></li><li>Note that it remains your responsibility to understand and read any terms of the data use (this is remains true even if you don&#39;t turn on this bypass)</li><li>This is provided for scripting (in particular CI) use</li><li>If the <code>CI</code> environment variable is set to true, <code>DATADEPS_ALWAYS_ACCEPT</code>  <strong>must be set</strong> to true or false. This is to prevent hanging in CI.</li></ul></li><li><code>DATADEPS_PROGRESS_UPDATE_PERIOD</code> – how often (in seconds) to print the progress to the log for the download<ul><li>This is used by the default <code>fetch_method</code> and when implementing custom methods it is good to respect it.</li><li>default: <code>5</code> (seconds) usually; <code>Inf</code> (i.e. no updates) if <code>DATADEPS_ALWAYS_ACCEPT</code> is set.</li></ul></li><li><code>DATADEPS_LOAD_PATH</code> – The list of paths to be prepended to the standard load path to save and load data from<ul><li>By default this is empty, but it can be a colon separated list (like most unix path variables). <a href="#The-Load-Path">For more details see above.</a></li></ul></li><li><code>DATADEPS_NO_STANDARD_LOAD_PATH</code> if this is set to <code>true</code> (default <code>false</code>), then the aforementioned list of standard load path files is not included</li><li><code>DATADEPS_DISABLE_DOWNLOAD</code> – causes any action that would result in the download being triggered to throw an exception.<ul><li>useful e.g. if you are in an environment with metered data, where your datasets should have already been downloaded earlier, and if there were not you want to respond to the situation rather than let DataDeps.jl download them for you.</li><li>default <code>false</code></li></ul></li><li><code>DATADEPS_DISABLE_ERROR_CLEANUP</code> – By default DataDeps.jl will cleanup the directory the datadep was being downloaded to if there is an error during the resolution (In any of the <code>fetch</code>, <code>checksum</code>, or <code>post_fetch</code>). For debugging purposes you may wish to disable this cleanup step so you can interrogate the files by hand.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« DataDeps.jl Documentation</a><a class="docs-footer-nextpage" href="../z20-for-pkg-devs/">Usage for developers (including researchers) »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 19 January 2024 04:01">Friday 19 January 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
